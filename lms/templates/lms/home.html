{% extends 'lms/base.html' %}

{% block title %}Головна - Університетська система{% endblock %}

{% block content %}
<!-- Hero Section -->
<div class="hero-section">
    <div class="container text-center">
        <h1 class="display-4 fw-bold mb-4">Ласкаво просимо до Університетської системи</h1>
        <p class="lead mb-4">Сучасна платформа для ефективного управління навчальним процесом</p>
        {% if not user.is_authenticated %}
        <a href="{% url 'login' %}" class="btn btn-light btn-lg">Почати роботу</a>
        {% endif %}
    </div>
</div>

<div class="container">
    {% if user.is_authenticated %}
    <!-- Welcome Section for Authenticated Users -->
    <div class="row mb-5">
        <div class="col-12">
            <div class="card">
                <div class="card-body text-center py-5">
                    {% if user.student %}
                    <!-- Приветствие для студента -->
                    <h2 class="card-title">Вітаємо, {{ user.student.full_name|default:user.username }}!</h2>
                    <p class="card-text lead">Раді бачити вас у системі</p>
                    <a href="{% url 'student_dashboard' %}" class="btn btn-primary btn-lg">
                        <i class="bi bi-speedometer2"></i> Перейти до панелі студента
                    </a>
                    {% elif user.professor %}
                    <!-- Приветствие для преподавателя -->
                    <h2 class="card-title">Вітаємо, {{ user.professor.full_name|default:user.username }}!</h2>
                    <p class="card-text lead">Раді бачити вас у системі</p>
                    <a href="{% url 'professor_dashboard' %}" class="btn btn-primary btn-lg">
                        <i class="bi bi-speedometer2"></i> Перейти до панелі викладача
                    </a>
                    {% else %}
                    <!-- Общее приветствие для других пользователей -->
                    <h2 class="card-title">Вітаємо, {{ user.get_full_name|default:user.username }}!</h2>
                    <p class="card-text lead">Раді бачити вас у системі</p>
                    <p class="text-muted">Ваш обліковий запис не має спеціальних прав доступу.</p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
    {% endif %}

    <!-- Features Section -->
    <div class="row mb-5">
        <div class="col-12 text-center mb-4">
            <h2>Можливості системи</h2>
            <p class="lead">Все необхідне для ефективного навчання та викладання</p>
        </div>

        <div class="col-md-4">
            <div class="card h-100">
                <div class="card-body text-center">
                    <i class="bi bi-journal-text display-4 text-primary mb-3"></i>
                    <h4>Управління курсами</h4>
                    <p>Створюйте та керуйте навчальними курсами, розподіляйте матеріали та завдання</p>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card h-100">
                <div class="card-body text-center">
                    <i class="bi bi-clipboard-check display-4 text-success mb-3"></i>
                    <h4>Завдання та оцінювання</h4>
                    <p>Призначайте завдання, отримуйте роботи студентів та виставляйте оцінки</p>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card h-100">
                <div class="card-body text-center">
                    <i class="bi bi-calendar-event display-4 text-warning mb-3"></i>
                    <h4>Розклад занять</h4>
                    <p>Плануйте розклад та відстежуйте навчальний процес у зручному форматі</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Statistics Section -->
    {% if user.is_authenticated %}
    <div class="row">
        <div class="col-12 text-center mb-4">
            <h2>Статистика</h2>
        </div>

        <div class="col-md-3">
            <div class="card stat-card">
                <i class="bi bi-journals"></i>
                <h3>{{ enrolled_courses_count|default:"0" }}</h3>
                <p>Моїх курсів</p>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card stat-card">
                <i class="bi bi-clipboard-data"></i>
                <h3>{{ assignments_count|default:"0" }}</h3>
                <p>Активних завдань</p>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card stat-card">
                <i class="bi bi-clock-history"></i>
                <h3>{{ pending_count|default:"0" }}</h3>
                <p>
                    {% if user.student %}Очікують здачі{% else %}Очікують перевірки{% endif %}
                </p>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card stat-card">
                <i class="bi bi-check-circle"></i>
                <h3>{{ completed_count|default:"0" }}</h3>
                <p>
                    {% if user.student %}Зданих робіт{% else %}Перевірених робіт{% endif %}
                </p>
            </div>
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}